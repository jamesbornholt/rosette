machine:
  environment:
    RACKET_DIR: "$HOME/racket"
    RACKET_VERSION: "6.8"
    PATH: "${RACKET_DIR}/bin:$PATH"

dependencies:
  override:
    - git clone https://github.com/greghendershott/travis-racket.git ~/travis-racket
    - cat ~/travis-racket/install-racket.sh | bash
    - raco pkg install --no-setup --auto
    - raco setup -Dl rosette

test:
  override:
    - time raco make test/all-rosette-tests.rkt
    - raco test test/all-rosette-tests.rkt
    - time raco make test/all-sdsl-tests.rkt
    - raco test test/all-sdsl-tests.rkt
